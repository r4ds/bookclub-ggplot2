--- 
title: "ggplot2 Book Club"
author: "The R4DS Online Learning Community"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
bibliography: book.bib
biblio-style: apalike
link-citations: yes
github-repo: r4ds/bookclub-ggplot2
description: "This is the product of the R4DS Online Learning Community's Book Club."
---
--- 
title: "ggplot2 Book Club"
author: "The R4DS Online Learning Community"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
bibliography: book.bib
biblio-style: apalike
link-citations: yes
github-repo: r4ds/bookclub-ggplot2
description: "This is the product of the R4DS Online Learning Community's Book Club."
---

# Welcome {-}

This is a companion for the book [ggplot2: Elegant Graphics for Data Analysis](https://ggplot2-book.org/index.html) by Hadley Wickham, Danielle Navarro, and Thomas Lin Pedersen.
This companion is available at [https://r4ds.github.io/bookclub-ggplot2](https://r4ds.github.io/bookclub-ggplot2).

This website is being developed by the [R4DS Online Learning Community](https://rfordatasci.com). Follow along, and [join the community](https://r4ds.io/join) to participate.

This companion follows the [R4DS Online Learning Community Code of Conduct](https://r4ds.io/conduct).

## Book club meetings {-}

- Each week, a volunteer will present a chapter from the book.
  - **This is the best way to learn the material.**
- Presentations will usually consist of a review of the material, a discussion, and/or a demonstration of the principles presented in that chapter.
- More information about how to present is available in the [github repo](https://github.com/r4ds/bookclub-ggplot2).
- Presentations will be recorded, and will be available on the [R4DS Online Learning Community YouTube Channel](https://r4ds.io/youtube).

<!--chapter:end:index.Rmd-->

# Introduction

**Learning objectives:**

- {These are nice to have, but take some extra work. It's ok to skip these if necessary.}

## {Slide 1 title}

- {Create slides as sections, but keep them shrot like a slide.}

## Meeting Videos

### Cohort 1

`r knitr::include_url("https://www.youtube.com/embed/jrBiEppKt_0")`

<details>
  <summary> Meeting chat log </summary>
  
```
```
</details>

<!--chapter:end:01-introduction.Rmd-->

---
title: "02-First_steps"
output: ioslides_presentation
---

# Update to Slides required

<!--chapter:end:02-First_steps.Rmd-->

---
title: "03-Individual_geoms"
output: ioslides_presentation
---

# Update to Slides required

<!--chapter:end:03-Individual_geoms.Rmd-->

---
title: "04-Collective_geoms"
output: ioslides_presentation
---

# Update to Slides required

<!--chapter:end:04-Collective_geoms.Rmd-->

---
title: "05-Statistical_summaries"
author: "Ryan L. Metcalf"
date: "10/3/2021"
output: ioslides_presentation
---

```{r, include = FALSE}
library(ggplot2)
```

# Statistical Summaries
## Learning Objectives
- Use ggplot2 to plot possible uncertainty in your data
- Determine which geometric object (geom) best presents your type of data
- 

## Defintions (in this Chapter)

> **discrete value**: a finite number, something that is countable with beginning and end (input user definition welcomed)

> **continous value**: infinite number, something that never ends. Infinity is continous. (input user definition welcomed)

> **grobs**: graphical object

> **overplotting**: too much data on scatterplot making underlying relationships obscure

## Revealing Uncertainty

Four primary types of geometric objects (geom) are used:
1. Discrete x, range: `geom_errorbar()`, `geom_linerange()`
2. Discrete x, range & center: `geom_crossbar()`, `geom_pointrange()`
3. Continuous x, range: `geom_ribbon()`
4. Continuous x, range & center: `geom_smooth(stat = "identity")`

```{r}
y <- c(18, 11, 16)
df <- data.frame(x = 1:3, y = y, se = c(1.2, 0.5, 1.0))

base <- ggplot(df, aes(x, y, ymin = y - se, ymax = y + se))
base + geom_crossbar()
base + geom_pointrange()
base + geom_smooth(stat = "identity")
```

```{r}
base + geom_errorbar()
base + geom_linerange()
base + geom_ribbon()
```

## Weighted Data
If each row of your dataframe contains mulitiple observations, we can use a weight to visually give scale to observations

```{r miss-basic} 
# Unweighted
ggplot(midwest, aes(percwhite, percbelowpoverty)) + 
  geom_point()
# Weight by population
ggplot(midwest, aes(percwhite, percbelowpoverty)) + 
  geom_point(aes(size = poptotal / 1e6)) + 
  scale_size_area("Population\n(millions)", breaks = c(0.5, 1, 2, 4))
```

```{r weight-lm} 
# Unweighted
ggplot(midwest, aes(percwhite, percbelowpoverty)) + 
  geom_point() + 
  geom_smooth(method = lm, size = 1)
# Weighted by population
ggplot(midwest, aes(percwhite, percbelowpoverty)) + 
  geom_point(aes(size = poptotal / 1e6)) + 
  geom_smooth(aes(weight = poptotal), method = lm, size = 1) +
  scale_size_area(guide = "none")
```

```{r weight-hist} 
ggplot(midwest, aes(percbelowpoverty)) +
  geom_histogram(binwidth = 1) + 
  ylab("Counties")
ggplot(midwest, aes(percbelowpoverty)) +
  geom_histogram(aes(weight = poptotal), binwidth = 1) +
  ylab("Population (1000s)")
```

>Question for the group: Is the above `ylab` correct? Check out the next two figures, can you see the difference?

```{r weight-hist-option-1} 
ggplot(midwest, aes(percbelowpoverty)) +
  geom_histogram(aes(weight = poptotal/1e3), binwidth = 1) +
  ylab("Population (1000s)")
```

```{r weight-hist-option-2} 
ggplot(midwest, aes(percbelowpoverty)) +
  geom_histogram(aes(weight = poptotal/1e6), binwidth = 1) +
  ylab("Population (millions)")
```

```{r}
knitr::include_graphics("diagrams/diamond-dimensions.png", dpi = 300)
```

<!--chapter:end:05-Statistical_summaries.Rmd-->

